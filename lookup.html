<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tra c·ª©u | EricTravel</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Philosopher:ital,wght@0,400;0,700;1,400;1,700&display=swap"
      rel="stylesheet"
    />

    <!-- External CSS -->
    <link rel="stylesheet" href="./assets/css/reset.css" />
    <link rel="stylesheet" href="./assets/css/style.css" />
  </head>

  <body>
    <!-- Header -->
    <header class="header fixed">
      <div class="main-content">
        <div class="body">
          <img src="./assets/img/logo.png" alt="EricTravel" class="logo" />
          <span
            style="font-weight: bold; font-size: 1.625rem; margin-left: 8px"
          >
            <span style="color: #000">Eric</span
            ><span style="color: #2d7c2d">Travel</span>
          </span>
          <nav class="nav">
            <ul>
              <li><a href="index.html">Trang ch·ªß</a></li>
              <li><a href="index.html#about">Gi·ªõi thi·ªáu</a></li>
              <li><a href="index.html#guide">H∆∞·ªõng d·∫´n</a></li>
              <li><a href="lookup.html">Tra c·ª©u</a></li>
            </ul>
          </nav>
          <div class="action">
            <a href="dashboard.html" class="btn btn-dashboard">Dashboard</a>
          </div>
        </div>
      </div>
    </header>

    <!-- Main -->
    <main
      style="
        padding: 140px 24px 120px;
        max-width: 1240px;
        margin: 0 auto;
        font-family: 'Philosopher', sans-serif;
      "
    >
      <h1
        style="
          font-size: 32px;
          color: #2d7c2d;
          margin-bottom: 32px;
          text-align: center;
          font-weight: 700;
        "
      >
        üîç Tra c·ª©u ƒë·ªãa ƒëi·ªÉm du l·ªãch g·∫ßn b·∫°n
      </h1>

      <!-- C√°c n√∫t ch·ªçn lo·∫°i ƒë·ªãa ƒëi·ªÉm -->
      <div
        style="
          display: flex;
          justify-content: center;
          gap: 16px;
          margin-bottom: 32px;
          font-family: 'Philosopher', sans-serif;
        "
      >
        <button
          class="tab-btn"
          data-type="hotel"
          style="
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            background: #2d7c2d;
            color: white;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            font-family: 'Philosopher', sans-serif;
          "
        >
          Kh√°ch s·∫°n
        </button>
        <button
          class="tab-btn"
          data-type="restaurant"
          style="
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            background: #e0e0e0;
            color: black;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            font-family: 'Philosopher', sans-serif;
          "
        >
          Nh√† h√†ng
        </button>
        <button
          class="tab-btn"
          data-type="attraction"
          style="
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            background: #e0e0e0;
            color: black;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            font-family: 'Philosopher', sans-serif;
          "
        >
          ƒêi·ªÉm du l·ªãch
        </button>
      </div>

      <!-- √î nh·∫≠p ƒë·ªãa ch·ªâ -->
      <div style="text-align: center; margin-bottom: 16px">
        <input
          type="text"
          id="addressInput"
          placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ c·ªßa b·∫°n (VD: Th·∫°ch B√†n, Long Bi√™n, H√† N·ªôi)"
          style="
            width: 400px;
            max-width: 90%;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 16px;
            font-family: 'Philosopher', sans-serif;
          "
        />
      </div>

      <!-- N√∫t t√¨m ki·∫øm -->
      <div style="text-align: center">
        <button
          id="searchBtn"
          style="
            padding: 10px 24px;
            font-size: 16px;
            background-color: #2d7c2d;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-family: 'Philosopher', sans-serif;
            font-weight: 600;
          "
          onclick="searchPlaces()"
        >
          T√¨m ki·∫øm
        </button>
      </div>

      <!-- K·∫øt qu·∫£ tr·∫£ v·ªÅ -->
      <div
        id="resultBox"
        style="
          margin-top: 48px;
          max-width: 800px;
          margin-inline: auto;
          font-size: 1.4rem;
          text-align: left;
          font-family: 'Philosopher', sans-serif;
        "
      ></div>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="main-content">
        <div class="row">
          <div class="column">
            <h3 class="footer-logo">
              Eric<span class="highlight-green">Travel</span>
            </h3>
            <p class="slogan">D·∫´n l·ªëi cho chuy·∫øn ƒëi ho√†n h·∫£o ...</p>
            <p>
              <strong>ƒê·ªãa ch·ªâ:</strong><br />1 ƒê. ƒê·∫°i C·ªì Vi·ªát, B√°ch Khoa,<br />Hai
              B√† Tr∆∞ng, H√† N·ªôi
            </p>
            <p>
              <strong>Li√™n h·ªá:</strong
              ><br />0972610164<br />son.dm216879@sis.hust.edu.vn
            </p>
          </div>
          <div class="column">
            <h3 class="title">D·ªãch v·ª•</h3>
            <ul class="list">
              <li><a href="#">Ph√¢n t√≠ch du l·ªãch</a></li>
              <li><a href="#">H∆∞·ªõng d·∫´n du l·ªãch</a></li>
              <li><a href="#">Dashboard b√°o c√°o</a></li>
            </ul>
          </div>
          <div class="column">
            <h3 class="title">Ch√≠nh s√°ch & Quy ƒë·ªãnh</h3>
            <ul class="list">
              <li><a href="#">Ch√≠nh s√°ch b·∫£o m·∫≠t</a></li>
              <li><a href="#">ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a></li>
              <li><a href="#">Li√™n h·ªá h·ªó tr·ª£</a></li>
            </ul>
          </div>
          <div class="column social-column">
            <h3 class="title">K·∫øt n·ªëi v·ªõi t√¥i</h3>
            <div class="social-icons">
              <a href="https://www.linkedin.com/in/son-dao-mai/"
                ><img src="./assets/img/linkedin.svg" alt="LinkedIn"
              /></a>
              <a href="https://www.instagram.com/_ericmaison/"
                ><img src="./assets/img/instagram.svg" alt="Instagram"
              /></a>
              <a href="https://www.facebook.com/eric.maison17"
                ><img src="./assets/img/facebook.svg" alt="Facebook"
              /></a>
            </div>
          </div>
        </div>
      </div>
      <div class="footer-bottom">¬© 2025, EricTravel.inc</div>
    </footer>

    <!-- JS -->
    <script>
      let selectedType = "hotel";
      const tabButtons = document.querySelectorAll(".tab-btn");
      tabButtons.forEach((btn) => {
        btn.addEventListener("click", () => {
          tabButtons.forEach((b) => b.classList.remove("active"));
          btn.classList.add("active");
          selectedType = btn.dataset.type;
        });
      });

      function searchPlaces() {
        const address = document.getElementById("addressInput").value;
        const resultBox = document.getElementById("resultBox");
        resultBox.innerHTML = "‚è≥ ƒêang t√¨m ki·∫øm...";

        const apiMap = {
          hotel: "search_hotels",
          restaurant: "search_restaurants",
          attraction: "search_attractions",
        };

        fetch(
          `https://web-gproject.onrender.com/api/${
            apiMap[selectedType]
          }?address=${encodeURIComponent(address)}&radius=10`
        )
          .then((res) => res.json())
          .then((data) => {
            if (data.status === "success") {
              const records = data[selectedType + "s"];
              if (records.length === 0) {
                resultBox.innerHTML =
                  "‚ö†Ô∏è Kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£ trong b√°n k√≠nh.";
                return;
              }
              resultBox.innerHTML = records
                .map(
                  (item, i) => `
                    <div style="margin-bottom: 16px; border-bottom: 1px solid #ccc; padding-bottom: 12px;">
                      <strong>${i + 1}. ${item.Name}</strong><br/>
                      üìç ${item.Address}<br/>
                      ‚≠ê ${item["Overall Rating Value"] || "Ch∆∞a c√≥"}<br/>
                      üí∞ ${item.Price || "?"} USD<br/>
                      üìè C√°ch b·∫°n: ${item.distance.toFixed(2)} km
                    </div>`
                )
                .join("");
            } else {
              resultBox.innerHTML = "‚ùå Kh√¥ng t√¨m th·∫•y ƒë·ªãa ƒëi·ªÉm.";
            }
          })
          .catch((err) => {
            resultBox.innerHTML = "‚ùå L·ªói k·∫øt n·ªëi API.";
            console.error(err);
          });
      }
      // ƒê·ªïi m√†u tab khi ch·ªçn
      document.querySelectorAll(".tab-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          document.querySelectorAll(".tab-btn").forEach((b) => {
            b.style.background = "#e0e0e0";
            b.style.color = "black";
          });
          btn.style.background = "#2d7c2d";
          btn.style.color = "white";
          selectedType = btn.dataset.type;
        });
      });
      // Cho ph√©p nh·∫•n Enter ƒë·ªÉ t√¨m ki·∫øm
      document
        .getElementById("addressInput")
        .addEventListener("keydown", function (event) {
          if (event.key === "Enter") {
            event.preventDefault();
            searchPlaces();
          }
        });
    </script>
  </body>
</html>
